<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archives - N√©buleuse Visuelle (V78)</title>
    
    <script src="security.js"></script>

    <style>
        :root { 
            --noir-fond: #000103; 
            --vhs-vert: #00ff41;
            --rose-hii: rgba(255, 50, 150, 0.2);
            --bleu-tech: #00a8ff; 
            --einstein-glow: rgba(255, 255, 255, 0.4);
            --pois-vert: #39ff14;
        }

        body {
            margin: 0; background-color: var(--noir-fond); color: white;
            font-family: 'Courier New', monospace; min-height: 100vh; overflow-x: hidden;
            background: var(--noir-fond);
        }

        /* --- 1. D√âCORS ET GAZ --- */
        .nebula-layer { position: fixed; inset: 0; z-index: -20; pointer-events: none; background: radial-gradient(circle at 10% 80%, var(--rose-hii) 0%, transparent 50%); }
        .star-field { position: fixed; width: 250%; height: 250%; top: -75%; left: -75%; z-index: -15; background-image: radial-gradient(1px 1px at 20px 30px, #fff, transparent); background-size: 400px 400px; animation: spin 350s linear infinite; pointer-events: none; }
        .light-echo { position: fixed; top: 60%; left: 50%; width: 2px; height: 2px; background: white; border-radius: 50%; z-index: -12; animation: echo-expand 10s infinite; pointer-events: none; }
        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes echo-expand { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(45); opacity: 0; } }

        /* --- 2. ARMADA DE 6 PLAN√àTES --- */
        .nebula-planet { position: fixed; border-radius: 50%; z-index: -5; box-shadow: inset -15px -15px 40px rgba(0,0,0,0.9); animation: float 100s linear infinite alternate; pointer-events: none; }
        .p-ring { width: 110px; height: 110px; background: #ddd; top: 10%; right: 15%; border: 1px solid rgba(255,255,255,0.1); }
        .p-ring::after { content: ""; position: absolute; top: 50%; left: 50%; width: 180px; height: 15px; border: 1px solid rgba(255,255,255,0.2); border-radius: 50%; transform: translate(-50%, -50%) rotate(25deg); }
        .p-ice { width: 75px; height: 75px; background: radial-gradient(circle at 30% 30%, #44ccff, #001133); bottom: 15%; left: 8%; }
        .p-crystal { width: 45px; height: 45px; background: rgba(200, 240, 255, 0.9); top: 5%; left: 45%; box-shadow: 0 0 30px white; }
        .p-toxic { width: 85px; height: 85px; background: radial-gradient(circle at 30% 30%, #00ff88, #002211); bottom: 10%; right: 25%; }
        .p-gold { width: 20px; height: 20px; background: #ffcc00; top: 40%; left: 25%; box-shadow: 0 0 15px #ffcc00; }
        .p-moon { width: 15px; height: 15px; background: #555; top: 70%; right: 40%; }
        @keyframes float { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(10vw, 5vh) rotate(10deg); } }

        /* --- 3. PH√âNOM√àNES RARES --- */
        .einstein-ring { position: fixed; top: 15%; left: 50%; width: 100px; height: 100px; border: 2px solid var(--einstein-glow); border-radius: 50%; box-shadow: 0 0 20px var(--einstein-glow); z-index: -10; transform: translate(-50%, -50%); animation: ring-pulse 4s infinite alternate; pointer-events: none; }
        .hoag-object { position: fixed; top: 25%; left: 35%; width: 60px; height: 60px; z-index: -8; pointer-events: none; }
        .hoag-core { width: 15px; height: 15px; background: #ffeeaa; border-radius: 50%; margin: 22px auto; box-shadow: 0 0 10px #ffcc00; }
        .hoag-ring { position: absolute; top: 0; width: 60px; height: 60px; border: 2px solid rgba(100, 200, 255, 0.4); border-radius: 50%; }
        .green-pea { position: fixed; width: 4px; height: 4px; background: var(--pois-vert); border-radius: 50%; box-shadow: 0 0 10px var(--pois-vert); z-index: -11; }
        .gp1 { top: 15%; right: 30%; } .gp2 { bottom: 35%; left: 20%; }
        @keyframes ring-pulse { from { opacity: 0.3; scale: 0.9; } to { opacity: 0.8; scale: 1.1; } }

        /* --- 4. INTERFACE --- */
        .container { max-width: 1100px; margin: auto; padding: 60px 20px; text-align: center; position: relative; z-index: 100; }
        h1 { font-size: 3rem; letter-spacing: 12px; text-shadow: 0 0 20px rgba(255,255,255,0.4); margin-bottom: 50px; }
        #galerie-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; }
        .box { background: rgba(0, 0, 0, 0.92); border: 1px solid #222; padding: 20px; transition: 0.5s; position: relative; backdrop-filter: blur(5px); }
        .image-frame { width: 100%; height: 400px; background: #050505; display: flex; align-items: center; justify-content: center; overflow: hidden; border: 1px dashed #333; margin-bottom: 20px; }
        .unlocked .image-frame { border: 1px solid var(--vhs-vert); box-shadow: 0 0 15px rgba(0, 255, 65, 0.2); }
        .unlocked img { width: 100%; height: 100%; object-fit: cover; }
        .locked { opacity: 0.5; }
        .crypt { color: #444; font-size: 0.8rem; letter-spacing: 2px; }
        .info { text-align: left; border-top: 1px solid #222; padding-top: 15px; }
        .type-tag { font-size: 0.6rem; padding: 2px 8px; border: 1px solid; margin-bottom: 10px; display: inline-block; letter-spacing: 1px; }
        .tag-roman { color: var(--vhs-vert); border-color: var(--vhs-vert); }
        .tag-multi { color: var(--bleu-tech); border-color: var(--bleu-tech); }
        .btn-access { display: block; margin-top: 15px; padding: 10px; border: 1px solid white; color: white; text-decoration: none; text-align: center; font-size: 0.7rem; font-weight: bold; transition: 0.3s; }
        .btn-access:hover { background: white; color: black; }
        .btn-portal { display: inline-block; margin-top: 80px; color: white; text-decoration: none; border: 1px solid white; padding: 15px 40px; }
    </style>
</head>
<body>
    <div class="nebula-layer"></div>
    <div class="star-field"></div>
    <div class="light-echo"></div>

    <div class="nebula-planet p-ring"></div><div class="nebula-planet p-ice"></div>
    <div class="nebula-planet p-crystal"></div><div class="nebula-planet p-toxic"></div>
    <div class="nebula-planet p-gold"></div><div class="nebula-planet p-moon"></div>
    <div class="einstein-ring"></div>
    <div class="hoag-object"><div class="hoag-ring"></div><div class="hoag-core"></div></div>
    <div class="green-pea gp1"></div><div class="green-pea gp2"></div>

    <div class="container">
        <span style="font-size: 4rem;">üëÅÔ∏è</span>
        <h1>N√âBULEUSE VISUELLE</h1>
        <div id="galerie-container"></div>
        <a href="index.html" class="btn-portal">REPASSER LE PORTAIL</a>
    </div>

    <script>
        // --- LA BIBLIOTH√àQUE DES 14 UNIVERS ---
        const multiVerse = {
            // LES 4 ROMANS PUBLICS (Ton Plan de Vol)
            "roman1": [
                { 
                    date: "2026-02-16", 
                    url: "illustration1.jpg", 
                    ref: "SHADRASY : Le Souffle Originel", 
                    type: "ROMAN", 
                    link: "https://lien-roman1.com" 
                }
            ],
            "roman2": [
                { 
                    date: "2032-01-01", 
                    url: "guilde_aube.jpg", 
                    ref: "La Guilde de l'Aube", 
                    type: "ROMAN", 
                    link: "https://lien-roman2.com" 
                }
            ],
            "roman3": [ 
                { 
                    date: "2034-01-01", 
                    url: "projet_3.jpg", 
                    ref: "PROJET_III (TITRE_INCONNU)", 
                    type: "ROMAN", 
                    link: "#" 
                } 
            ],
            "roman4": [ 
                { 
                    date: "2036-01-01", 
                    url: "projet_4.jpg", 
                    ref: "PROJET_IV (TITRE_INCONNU)", 
                    type: "ROMAN", 
                    link: "#" 
                } 
            ],
            
            // LES 10 H√âRITAGES (Cach√©s et r√©serv√©s pour 2031 et au-del√†)
            "h_7x92": [ { date: "2031-03-05", url: "h1.jpg", ref: "ARCHIVE_PRIVEE_01", type: "H√âRITAGE", link: "#" } ],
            "h_v410": [ { date: "2031-03-05", url: "h2.jpg", ref: "ARCHIVE_PRIVEE_02", type: "H√âRITAGE", link: "#" } ],
            "h_x999": [ { date: "2031-03-05", url: "h3.jpg", ref: "ARCHIVE_PRIVEE_03", type: "H√âRITAGE", link: "#" } ]
            // ... Ajoute tes 7 autres codes d'H√©ritage ici
        };

        function chargerGalerie() {
            const urlParams = new URLSearchParams(window.location.search);
            
            // --- TA CL√â SECR√àTE : Hinaru ---
            const admin = urlParams.get('Hinaru') === 'true';
            
            const projetActuel = urlParams.get('projet') || 'roman1';
            const archives = multiVerse[projetActuel];
            const aujourdhui = new Date().toISOString().split('T')[0];
            const container = document.getElementById('galerie-container');
            
            container.innerHTML = ""; 

            if (!archives) {
                container.innerHTML = "<div class='crypt'>ERREUR : FR√âQUENCE INCONNUE</div>";
                return;
            }

            archives.forEach(item => {
                const estDebloque = admin || aujourdhui >= item.date;
                const tagClass = item.type === "ROMAN" ? "tag-roman" : "tag-multi";
                
                const box = document.createElement('div');
                box.className = estDebloque ? 'box unlocked' : 'box locked';
                
                box.innerHTML = `
                    <div class="image-frame">
                        ${estDebloque ? 
                            `<a href="${item.link}" target="_blank"><img src="${item.url}" alt="${item.ref}"></a>` : 
                            `<div class="crypt">[ SIGNAL CRYPT√â ]</div>`
                        }
                    </div>
                    <div class="info">
                        <span class="type-tag ${tagClass}">${item.type}</span>
                        <span class="status">${estDebloque ? 'SIGNAL D√âCOD√â : ' + item.ref : 'VERROUILL√â'}</span>
                        <p class="date">R√âCEPTION : ${item.date}</p>
                        ${estDebloque ? `<a href="${item.link}" target="_blank" class="btn-access">ACC√âDER AU CONTENU</a>` : ''}
                        ${admin ? `<p style="color:orange; font-size:10px; margin-top:10px;">MA√éTRE DU TEMPS : CL√â HINARU ACTIVE</p>` : ''}
                    </div>
                `;
                container.appendChild(box);
            });
        }

        window.onload = chargerGalerie;
    </script>
</body>
</html>
